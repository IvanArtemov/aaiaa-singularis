# Paper Fetcher Configuration
# Switch fetchers by changing active_fetcher

# Active fetcher: "pubmed", "pmc", etc.
active_fetcher: "pubmed"

# ==================== PubMed (NCBI E-utilities) ====================
pubmed:
  api_key_env: "NCBI_API_KEY"
  base_url: "https://eutils.ncbi.nlm.nih.gov/entrez/eutils"

  # E-utilities endpoints
  endpoints:
    search: "esearch.fcgi"      # ESearch - search for articles
    fetch: "efetch.fcgi"        # EFetch - get article details
    summary: "esummary.fcgi"    # ESummary - get summaries
    link: "elink.fcgi"          # ELink - get related links

  # Default parameters
  database: "pubmed"
  retmode: "xml"
  rettype: "abstract"

  # Rate limiting
  rate_limit:
    requests_per_second: 10     # With API key (3 without)
    delay_between_requests: 0.1 # 100ms between requests

  # Search defaults
  search:
    max_results: 100
    sort_by: "relevance"        # or "pub_date", "cited_by"

  # Timeout
  timeout: 30

# ==================== PubMed Central (PMC) ====================
pmc:
  base_url: "https://www.ncbi.nlm.nih.gov/pmc"

  # OAI Service for Open Access articles
  oai_url: "https://www.ncbi.nlm.nih.gov/pmc/oai/oai.cgi"

  # BioC API for structured full text
  bioc_url: "https://www.ncbi.nlm.nih.gov/research/bionlp/RESTful/pmcoa.cgi/BioC_json"

  # Rate limiting
  rate_limit:
    requests_per_second: 3
    delay_between_requests: 0.35

  timeout: 60

# ==================== Cache Settings ====================
cache:
  enabled: true
  directory: "./data/cache/papers"
  ttl_days: 30  # Cache papers for 30 days

# ==================== arXiv ====================
arxiv:
  base_url: "https://export.arxiv.org/api/query"

  # Rate limiting (arXiv recommends 1 request per 3 seconds)
  rate_limit:
    requests_per_second: 0.33  # ~1 request per 3 seconds
    delay_between_requests: 3.0

  # Search defaults
  search:
    max_results: 100
    sort_by: "relevance"  # or "last_updated", "submitted"

  # Common categories for our use case
  categories:
    computer_science:
      - "cs.CL"   # Computation and Language
      - "cs.AI"   # Artificial Intelligence
      - "cs.LG"   # Machine Learning
      - "cs.IR"   # Information Retrieval
      - "cs.DL"   # Digital Libraries
      - "cs.DB"   # Databases
    biology:
      - "q-bio.QM"  # Quantitative Methods
      - "q-bio.CB"  # Cell Biology
      - "q-bio.MN"  # Molecular Networks
      - "q-bio.GN"  # Genomics

  # Timeout
  timeout: 30

# ==================== General Settings ====================
general:
  retry_attempts: 3
  retry_delay: 2.0
  log_requests: true
